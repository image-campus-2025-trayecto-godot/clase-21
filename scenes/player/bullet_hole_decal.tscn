[gd_scene load_steps=3 format=3 uid="uid://bt2tprq6f1rre"]

[ext_resource type="Texture2D" uid="uid://bnsu2l0b2vi17" path="res://assets/bullet_holes/bullet_hole_0.png" id="1_jkwnd"]

[sub_resource type="GDScript" id="GDScript_jkwnd"]
script/source = "extends Decal

func _ready():
	Decals.new_decal_created(self)

func setup_visibility(parent_node: Node3D):
	if parent_node is VisualInstance3D:
		cull_mask = parent_node.layers
	#else:
		#var visual_instances = parent_node.find_children(\"\", \"VisualInstance3D\")
		#if not visual_instances.is_empty():
			#cull_mask = visual_instances.front().layers
	elif parent_node.has_method(\"visibility_layers\"):
		cull_mask = parent_node.visibility_layers()
"

[node name="BulletHoleDecal" type="Decal"]
size = Vector3(0.3, 0.05, 0.3)
texture_albedo = ExtResource("1_jkwnd")
script = SubResource("GDScript_jkwnd")
